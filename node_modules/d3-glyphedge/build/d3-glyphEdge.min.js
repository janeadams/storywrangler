!function(t,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define("d3-glyphEdge",["exports"],a):a(t.d3_glyphEdge={})}(this,function(t){"use strict";function a(t,a,r,e){var s=t.target.y-t.source.y,o=t.target.x-t.source.x,c=3*e,h=Math.atan2(o,s)+Math.PI/2,M=h-Math.PI/2,u=h+Math.PI/2,n=t.source.x+e*Math.cos(M),y=t.source.y-e*Math.sin(M),x=t.source.x+e*Math.cos(u),g=t.source.y-e*Math.sin(u),i=t.target.x-e*Math.cos(M),f=t.target.y+e*Math.sin(M),L=t.source.x+r*Math.cos(M),P=t.source.y-r*Math.sin(M),I=t.source.x+r*Math.cos(u),l=t.source.y-r*Math.sin(u),d=t.target.x+r*Math.cos(M),p=t.target.y-r*Math.sin(M),v=t.source.y-t.target.y,q=t.source.x-t.target.x,m=P-p,z=L-d,A=y-f,O=n-i,b=Math.sqrt(z*z+m*m),E=Math.sqrt(q*q+v*v),j=I-z*(b-c-a)/b,w=l-m*(b-c-a)/b,H=x-O*(b-c-a)/b,T=g-A*(b-c-a)/b,_=t.source.x-q*(E-a)/E,k=t.source.y-v*(E-a)/E;return"M"+t.source.x+","+t.source.y+"L"+I+","+l+"L"+j+","+w+"L"+H+","+T+"L"+_+","+k+"L"+t.source.x+","+t.source.y+"z"}function r(t){var a=t.target.x-t.source.x,r=t.target.y-t.source.y,e=Math.sqrt(a*a+r*r);return"M"+t.source.x+","+t.source.y+"A"+e+","+e+" 0 0,1 "+t.target.x+","+t.target.y}function e(t,a){var r=t.target.y-t.source.y,e=t.target.x-t.source.x,s=Math.atan2(e,r)+Math.PI/2,o=s-Math.PI/2,c=s+Math.PI/2;return"M"+(t.source.x+a*Math.cos(o))+","+(t.source.y-a*Math.sin(o))+"L"+(t.source.x+a*Math.cos(c))+","+(t.source.y-a*Math.sin(c))+"L"+(t.target.x-a*Math.cos(o))+","+(t.target.y+a*Math.sin(o))+"L"+(t.target.x-a*Math.cos(c))+","+(t.target.y+a*Math.sin(c))+"z"}function s(t,a,r,e){var s=t.target.y-t.source.y,o=t.target.x-t.source.x,c=Math.atan2(o,s)+Math.PI/2,h=c-Math.PI/2,M=c+Math.PI/2,u=t.source.x+a*Math.cos(h),n=t.source.y-a*Math.sin(h),y=t.source.x+a*Math.cos(M),x=t.source.y-a*Math.sin(M),g=t.target.x+r*Math.cos(M),i=t.target.y-r*Math.sin(M),f=t.target.x+r*Math.cos(h),L=t.target.y-r*Math.sin(h),P=t.source.x+e*Math.cos(h),I=t.source.y-e*Math.sin(h),l=t.source.x+e*Math.cos(M),d=t.source.y-e*Math.sin(M),p=t.target.x+e*Math.cos(h),v=t.target.y-e*Math.sin(h);return"M"+u+","+n+"L"+y+","+x+" L "+(l+(t.target.x+e*Math.cos(M)))/2+","+(d+(t.target.y-e*Math.sin(M)))/2+" L "+g+","+i+" L "+f+","+L+" L "+(P+p)/2+","+(I+v)/2+"z"}function o(t,a){var r=t.target.y-t.source.y,e=t.target.x-t.source.x,s=Math.atan2(e,r)+Math.PI/2,o=s-Math.PI/2,c=s+Math.PI/2;return"M"+(t.source.x+a*Math.cos(o))+","+(t.source.y-a*Math.sin(o))+"L"+(t.source.x+a*Math.cos(c))+","+(t.source.y-a*Math.sin(c))+" L "+t.target.x+","+t.target.y+"z"}function c(t,a){var r=t.target.y-t.source.y,e=t.target.x-t.source.x,s=Math.atan2(e,r)+Math.PI/2,o=s-Math.PI/2,c=s+Math.PI/2;return"M"+(t.target.x+a*Math.cos(o))+","+(t.target.y-a*Math.sin(o))+"L"+(t.target.x+a*Math.cos(c))+","+(t.target.y-a*Math.sin(c))+" L "+t.source.x+","+t.source.y+"z"}function h(t,a,r,e){var s=t.target.y-t.source.y,o=t.target.x-t.source.x,c=3*e,h=Math.atan2(o,s)+Math.PI/2,M=h-Math.PI/2,u=h+Math.PI/2,n=t.source.x+e*Math.cos(M),y=t.source.y-e*Math.sin(M),x=t.source.x+e*Math.cos(u),g=t.source.y-e*Math.sin(u),i=t.target.x-e*Math.cos(M),f=t.target.y+e*Math.sin(M),L=t.target.x-e*Math.cos(u),P=t.target.y+e*Math.sin(u),I=t.source.x+r*Math.cos(M),l=t.source.y-r*Math.sin(M),d=t.source.x+r*Math.cos(u),p=t.source.y-r*Math.sin(u),v=t.target.x+r*Math.cos(M),q=t.target.y-r*Math.sin(M),m=t.target.x+r*Math.cos(u),z=t.target.y-r*Math.sin(u),A=t.source.y-t.target.y,O=t.source.x-t.target.x,b=l-q,E=I-v,j=p-z,w=d-m,H=y-f,T=n-i,_=g-P,k=x-L,B=Math.sqrt(E*E+b*b),C=Math.sqrt(O*O+A*A),D=d-E*(B-c-a)/B,F=p-b*(B-c-a)/B,G=I-w*(B-c-a)/B,J=l-j*(B-c-a)/B,K=n-k*(B-c-a)/B,N=y-_*(B-c-a)/B;return"M"+d+","+p+"L"+D+","+F+"L"+(x-T*(B-c-a)/B)+","+(g-H*(B-c-a)/B)+"L"+(t.source.x-O*(C-a)/C)+","+(t.source.y-A*(C-a)/C)+"L"+K+","+N+"L"+G+","+J+"L"+I+","+l+"z"}function M(t,a,r,e){var s=t.target.y-t.source.y,o=t.target.x-t.source.x,c=Math.atan2(o,s)+Math.PI/2,h=c+(.75*Math.PI+.25*e),M=c+(.25*Math.PI-.25*e);return{source:{x:t.source.x+a*Math.cos(h),y:t.source.y-a*Math.sin(h)},target:{x:t.target.x+r*Math.cos(M),y:t.target.y-r*Math.sin(M)}}}function u(t,a){var r=t.target.y-t.source.y,e=t.target.x-t.source.x,s=Math.atan2(e,r)+Math.PI/2,o=s+.75*Math.PI,c=s+.25*Math.PI;return{source:{x:t.source.x+a*Math.cos(o),y:t.source.y-a*Math.sin(o)},target:{x:t.target.x+a*Math.cos(c),y:t.target.y-a*Math.sin(c)}}}function n(t,a,r,e){function s(){t.particles.push({current:0,xOffset:r-r*Math.random()*2,yOffset:r-r*Math.random()*2})}if(r/=2,t.particles=t.particles.filter(function(t){return t.current<a.getTotalLength()}),t.frequency<1)Math.random()<t.frequency&&s();else for(var o=0;o<t.frequency;o++)s();t.particles.forEach(function(t){t.current=t.current+e;var r=a.getPointAtLength(t.current);t.x=r.x+t.xOffset,t.y=r.y+t.yOffset})}var y={arrowHead:h,comet:c,nail:o,taffy:s,ribbon:e,lineArc:r,halfArrow:a},x={offset:u,parallel:M},g={particle:n};t.version="1.2.0",t.d=y,t.project=x,t.mutate=g});